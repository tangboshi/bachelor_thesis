\begin{Verbatim}[commandchars=\\\{\}]
\PYG{c+c1}{\PYGZsh{} Put this into the constructor to create message ports}
\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{message\PYGZus{}port\PYGZus{}register\PYGZus{}in}\PYG{p}{(}\PYG{n}{pmt}\PYG{o}{.}\PYG{n}{intern}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}in\PYGZus{}port\PYGZus{}name\PYGZdq{}}\PYG{p}{))}
\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{message\PYGZus{}port\PYGZus{}register\PYGZus{}out}\PYG{p}{(}\PYG{n}{pmt}\PYG{o}{.}\PYG{n}{intern}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}out\PYGZus{}port\PYGZus{}name\PYGZdq{}}\PYG{p}{))}
\PYG{c+c1}{\PYGZsh{} No bind necessary, we can pass the function directly}
\PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{set\PYGZus{}msg\PYGZus{}handler}\PYG{p}{(}\PYG{n}{pmt}\PYG{o}{.}\PYG{n}{intern}\PYG{p}{(}\PYG{l+s+s2}{\PYGZdq{}in\PYGZus{}port\PYGZus{}name\PYGZdq{}}\PYG{p}{),} \PYG{n+nb+bp}{self}\PYG{o}{.}\PYG{n}{msg\PYGZus{}handler\PYGZus{}method}\PYG{p}{)}
\end{Verbatim}
